{
  "name": "DebitCreditNote",
  "type": "object",
  "properties": {
    "note_number": {
      "type": "string",
      "description": "Unique DN/CN number"
    },
    "note_type": {
      "type": "string",
      "enum": [
        "Debit Note",
        "Credit Note"
      ],
      "description": "Type of adjustment note"
    },
    "original_nota_id": {
      "type": "string",
      "description": "Reference to original Nota"
    },
    "batch_id": {
      "type": "string",
      "description": "Reference to Batch"
    },
    "contract_id": {
      "type": "string",
      "description": "Reference to Contract"
    },
    "adjustment_amount": {
      "type": "number",
      "description": "Adjustment amount (positive for DN, negative for CN)"
    },
    "reason_code": {
      "type": "string",
      "enum": [
        "Payment Difference",
        "FX Adjustment",
        "Premium Correction",
        "Coverage Adjustment",
        "Other"
      ],
      "description": "Reason for the adjustment"
    },
    "reason_description": {
      "type": "string",
      "description": "Detailed explanation of the adjustment"
    },
    "status": {
      "type": "string",
      "enum": [
        "Draft",
        "Under Review",
        "Approved",
        "Rejected",
        "Acknowledged"
      ],
      "default": "Draft",
      "description": "Status of DN/CN"
    },
    "drafted_by": {
      "type": "string",
      "description": "User who created the DN/CN"
    },
    "drafted_date": {
      "type": "string",
      "format": "date-time"
    },
    "reviewed_by": {
      "type": "string",
      "description": "User who reviewed the DN/CN"
    },
    "reviewed_date": {
      "type": "string",
      "format": "date-time"
    },
    "approved_by": {
      "type": "string",
      "description": "User who approved the DN/CN"
    },
    "approved_date": {
      "type": "string",
      "format": "date-time"
    },
    "acknowledged_by": {
      "type": "string",
      "description": "BRINS user who acknowledged the DN/CN"
    },
    "acknowledged_date": {
      "type": "string",
      "format": "date-time"
    },
    "rejection_reason": {
      "type": "string",
      "description": "Reason for rejection"
    },
    "currency": {
      "type": "string",
      "default": "IDR"
    }
  },
  "required": [
    "note_number",
    "note_type",
    "original_nota_id",
    "adjustment_amount",
    "reason_code"
  ]
}